<% if backends and ! backends.empty? -%>
<% backends.sort_by {|key, value| key}.each do |key, value| -%>
backend <%= key %>
<% if value['acl'] and value['acl'].kind_of?(Array) and ! value['acl'].empty? -%>
<% value['acl'].each do |acl| -%>
  acl <%= acl %>
<% end -%>
<% end -%>
<% if value['appsession'] and ! value['appsession'].empty? -%>
  appsession <%= value['appsession'] %>
<% end -%>
<% if value['balance'] and ! value['balance'].empty? -%>
  balance <%= value['balance'] %>
<% end -%>
<% if value['bind_process'] and ! value['bind_process'].empty? -%>
  bind-process <%= value['bind_process'] %>
<% end -%>
<% if value['block'] and value['block'].kind_of?(Array) and ! value['block'].empty? -%>
<% value['block'].each do |block| -%>
  block <%= block %>
<% end -%>
<% end -%>
<% if value['cookie'] and value['cookie'].kind_of?(Array) and ! value['cookie'].empty? -%>
<% value['cookie'].each do |cookie| -%>
  cookie <%= cookie %>
<% end -%>
<% end -%>
<% if value['default_server'] and ! value['default_server'].empty? -%>
  default-server <%= value['default_server'] %>
<% end -%>
<% if value['disabled'] and ! value['disabled'].empty? -%>
  disabled
<% end -%>
<% if value['dispatch'] and ! value['dispatch'].empty? -%>
  dispatch <%= value['dispatch'] %>
<% end -%>
<% if value['enabled'] and ! value['enabled'].empty? -%>
  enabled
<% end -%>
<% if value['errorfile'] and value['errorfile'].kind_of?(Array) and ! value['errorfile'].empty? -%>
<% value['errorfile'].each do |errorfile| -%>
  errorfile <%= errorfile %>
<% end -%>
<% end -%>
<% if value['errorloc'] and value['errorloc'].kind_of?(Array) and ! value['errorloc'].empty? -%>
<% value['errorloc'].each do |errorloc| -%>
  errorloc <%= errorloc %>
<% end -%>
<% end -%>
<% if value['errorloc302'] and value['errorloc302'].kind_of?(Array) and ! value['errorloc302'].empty? -%>
<% value['errorloc302'].each do |errorloc302| -%>
  errorloc302 <%= errorloc302 %>
<% end -%>
<% end -%>
<% if value['errorloc303'] and value['errorloc303'].kind_of?(Array) and ! value['errorloc303'].empty? -%>
<% value['errorloc303'].each do |errorloc303| -%>
  errorloc303 <%= errorloc303 %>
<% end -%>
<% end -%>
<% if value['force_persist'] and ! value['force_persist'].empty? -%>
  force-persist <%= value['force_persist'] %>
<% end -%>
<% if value['fullconn'] and ! value['fullconn'].empty? -%>
  fullconn <%= value['fullconn'] %>
<% end -%>
<% if value['grace'] and ! value['grace'].empty? -%>
  grace <%= value['grace'] %>
<% end -%>
<% if value['hash-type'] and ! value['hash-type'].empty? -%>
  hash-type <%= value['hash-type'] %>
<% end -%>
<% if value['http_check_disable_on_404'] and ! value['http_check_disable_on_404'].empty? -%>
  http-check disable-on-404
<% end -%>
<% if value['http_check_expect'] and ! value['http_check_expect'].empty? -%>
  http-check expect <%= value['http_check_expect'] %>
<% end -%>
<% if value['http_check_send_state'] and ! value['http_check_send_state'].empty? -%>
  http-check send-state
<% end -%>
<% if value['http_request'] and value['http_request'].kind_of?(Array) and ! value['http_request'].empty? -%>
<% value['http_request'].each do |http_request| -%>
  http-request <%= http_request %>
<% end -%>
<% end -%>
<% if value['id'] and ! value['id'].empty? -%>
  id <%= value['id'] %>
<% end -%>
<% if value['ignore_persist'] and value['ignore_persist'].kind_of?(Array) and ! value['ignore_persist'].empty? -%>
<% value['ignore_persist'].each do |ignore_persist| -%>
  ignore-persist <%= ignore_persist %>
<% end -%>
<% end -%>
<% if value['log'] and ! value['log'].empty? -%>
  log <%= value['log'] %>
<% end -%>
<% if value['mode'] and ! value['mode'].empty? -%>
  mode <%= value['mode'] %>
<% end -%>
<% if value['option_abortonclose'] and ! value['option_abortonclose'].empty? -%>
<% if value['option_abortonclose'].downcase.match('no') -%>
  no option abortonclose
<% else -%>
  option abortonclose
<% end -%>
<% end -%>
<% if value['option_accept_invalid_http_response'] and ! value['option_accept_invalid_http_response'].empty? -%>
<% if value['option_accept_invalid_http_response'].downcase.match('no') -%>
  no option accept-invalid-http-response
<% else %>
  option accept-invalid-http-response
<% end -%>
<% end -%>
<% if value['option_allbackups'] and ! value['option_allbackups'].empty? -%>
<% if value['option_allbackups'].downcase.match('no') -%>
  no option allbackups
<% else -%>
  option allbackups
<% end -%>
<% end -%>
<% if value['option_checkcache'] and ! value['option_checkcache'].empty? -%>
<% if value['option_checkcache'].downcase.match('no') -%>
  no option checkcache
<% else -%>
  option checkcache
<% end -%>
<% end -%>
<% if value['option_forceclose'] and ! value['option_forceclose'].empty? -%>
<% if value['option_forceclose'].downcase.match('no') -%>
  no option forceclose
<% else -%>
  option forceclose
<% end -%>
<% end -%>
<% if value['option_forwardfor'] and ! value['option_forwardfor'].empty? -%>
  option forwardfor <%= value['option_forwardfor'] %>
<% end -%>
<% if value['option_http_no_delay'] and ! value['option_http_no_delay'].empty? -%>
<% if value['option_http_no_delay'].downcase.match('no') -%>
  no option http-no-delay
<% else -%>
  option http-no-delay
<% end -%>
<% end -%>
<% if value['option_http_pretend_keepalive'] and ! value['option_http_pretend_keepalive'].empty? -%>
<% if value['option_http_pretend_keepalive'].downcase.match('no') -%>
  no option http-pretend-keepalive
<% else -%>
  option http-pretend-keepalive
<% end -%>
<% end -%>
<% if value['option_http_server_close'] and ! value['option_http_server_close'].empty? -%>
  option http-server-close
<% end -%>
<% if value['option_httpchk'] and ! value['option_httpchk'].empty? -%>
  option httpchk <%= value['option_httpchk'] %>
<% end -%>
<% if value['option_httpclose'] and ! value['option_httpclose'].empty? -%>
  option httpclose
<% end -%>
<% if value['option_httplog'] and ! value['option_httplog'].empty? -%>
  option httplog
<% end -%>
<% if value['option_http_proxy'] and ! value['option_http_proxy'].empty? -%>
  option http_proxy
<% end -%>
<% if value['option_independent_streams'] and ! value['option_independent_streams'].empty? -%>
  option independent-streams
<% end -%>
<% if value['option_ldap_check'] and ! value['option_ldap_check'].empty? -%>
  option ldap-check
<% end -%>
<% if value['option_log_health_checks'] and ! value['option_log_health_checks'].empty? -%>
  option log-health-checks
<% end -%>
<% if value['option_mysql_check'] and ! value['option_mysql_check'].empty? -%>
  option mysql-check user <%= value['option_mysql_check'] %>
<% end -%>
<% if value['option_nolinger'] and ! value['option_nolinger'].empty? -%>
  option nolinger
<% end -%>
<% if value['option_originalto'] and ! value['option_originalto'].empty? -%>
  option originalto <%= value['option_originalto'] %>
<% end -%>
<% if value['option_persist'] and ! value['option_persist'].empty? -%>
  option persist
<% end -%>
<% if value['option_redispatch'] and ! value['option_redispatch'].empty? -%>
  option redispatch
<% end -%>
<% if value['option_smtpchk'] and ! value['option_smtpchk'].empty? -%>
  option smtpchk <%= value['option_smtpchk'] %>
<% end -%>
<% if value['option_splice_auto'] and ! value['option_splice_auto'].empty? -%>
  option splice-auto
<% end -%>
<% if value['option_splice_request'] and ! value['option_splice_request'].empty? -%>
  option splice-request
<% end -%>
<% if value['option_splice_response'] and ! value['option_splice_response'].empty? -%>
  option splice-response
<% end -%>
<% if value['option_srvtcpka'] and ! value['option_srvtcpka'].empty? -%>
  option srvtcpka
<% end -%>
<% if value['option_ssl_hello_chk'] and ! value['option_ssl_hello_chk'].empty? -%>
  option ssl-hello-chk
<% end -%>
<% if value['option_tcp_smart_connect'] and ! value['option_tcp_smart_connect'].empty? -%>
  option tcp-smart-connect
<% end -%>
<% if value['option_tcpka'] and ! value['option_tcpka'].empty? -%>
  option tcpka
<% end -%>
<% if value['option_tcplog'] and ! value['option_tcplog'].empty? -%>
  option tcplog
<% end -%>
<% if value['option_transparent'] and ! value['option_transparent'].empty? -%>
  option transparent
<% end -%>
<% if value['persist_rdp_cookie'] and ! value['persist_rdp_cookie'].empty? -%>
  persist rdp-cookie
<% end -%>
<% if value['redirect'] and value['redirect'].kind_of?(Array) and ! value['redirect'].empty? -%>
<% value['redirect'].each do |redirect| -%>
  redirect <%= redirect %>
<% end -%>
<% end -%>

<% end -%>
<% end -%>





reqadd
reqallow
reqdel
reqdeny
reqiallow
reqidel
reqideny
reqipass
reqirep
reqisetbe
reqitarpit
reqpass
reqrep

reqsetbe
reqtarpit
retries
rspadd
rspdel
rspdeny
rspidel
rspideny
rspirep
rsprep
server
source

stats admin
stats auth
stats enable
stats hide-version
stats http-request
stats realm
stats refresh
stats scope
stats show-desc
stats show-legends
stats show-node
stats uri

stick match
stick on
stick store-request
stick store-response
stick-table

tcp-request content
tcp-request inspect-delay
tcp-response content
tcp-response inspect-delay
timeout check

timeout connect

timeout http-keep-alive
timeout http-request
timeout queue
timeout server

timeout tarpit
timeout tunnel

use-server
